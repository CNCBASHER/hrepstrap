# Generated by stepconf at Sat Apr  4 19:51:13 2009
# If you make changes to this file, they will be
# overwritten when you run stepconf again

[EMC]
MACHINE = hrepstrap2
NML_FILE = emc.nml
DEBUG = 0

[DISPLAY]
DISPLAY = axis
EDITOR = gedit
POSITION_OFFSET = RELATIVE
POSITION_FEEDBACK = ACTUAL
MAX_FEED_OVERRIDE = 2
MAX_SPINDLE_OVERRIDE = 2
INTRO_GRAPHIC = emc2.gif
INTRO_TIME = 5
PROGRAM_PREFIX = /home/sam/Public/hrepstrap2
INCREMENTS = 5mm 1mm .5mm .1mm .05mm .01mm .005mm
PYVCP = /home/sam/Public/hrepstrap2/repstrap-extruder.pyvcp

[FILTER]
PROGRAM_EXTENSION = .skf Skeinforge Output
skf = /home/sam/Public/hrepstrap2/skeinforge2emc.pl

[TASK]
TASK = milltask
CYCLE_TIME = 0.001

[RS274NGC]
PARAMETER_FILE = emc.var

[EMCMOT]
EMCMOT = motmod
SHMEM_KEY = 111
COMM_TIMEOUT = 1.0
COMM_WAIT = 0.010
BASE_PERIOD = 100000
SERVO_PERIOD = 1000000

[HAL]
HALUI = halui
HALFILE = hrepstrap2.hal
HALFILE = custom.hal
POSTGUI_HALFILE = custom_postgui.hal

[TRAJ]
AXES = 7
COORDINATES = X Y Z U
LINEAR_UNITS = mm
ANGULAR_UNITS = degree
CYCLE_TIME = 0.001
DEFAULT_VELOCITY = 15.00
MAX_LINEAR_VELOCITY = 20.00

[EMCIO]
EMCIO = io
CYCLE_TIME = 0.100
TOOL_TABLE = tool.tbl

[AXIS_0]
TYPE = LINEAR
MAX_VELOCITY = 20.0
MAX_ACCELERATION = 300.0
STEPGEN_MAXACCEL = 375.0
SCALE = 320.0
FERROR = 1
MIN_FERROR = .25
MIN_LIMIT = 0.0
MAX_LIMIT = 190.0
HOME = 10
HOME_OFFSET = 0
HOME_SEARCH_VEL = -30
HOME_LATCH_VEL = 2
HOME_IGNORE_LIMITS = 1
HOME_SEQUENCE = 0

[AXIS_1]
TYPE = LINEAR
MAX_VELOCITY = 20.0
MAX_ACCELERATION = 300.0
STEPGEN_MAXACCEL = 375.0
SCALE = 320.0
FERROR = 1
MIN_FERROR = .25
MIN_LIMIT = 0
MAX_LIMIT = 193.0
HOME = 10
HOME_OFFSET = 0
HOME_SEARCH_VEL = -30
HOME_LATCH_VEL = 2
HOME_IGNORE_LIMITS = 1
HOME_SEQUENCE = 0

[AXIS_2]
TYPE = LINEAR
MAX_VELOCITY = 20.0
MAX_ACCELERATION = 300.0
STEPGEN_MAXACCEL = 375.0
SCALE = 320.0
FERROR = 1
MIN_FERROR = .25
MIN_LIMIT = -90.0
MAX_LIMIT = 0
HOME = -10
HOME_OFFSET = 0
HOME_SEARCH_VEL = 30
HOME_LATCH_VEL = -2
HOME_IGNORE_LIMITS = 1
HOME_SEQUENCE = 0

# Motor 1 Axis
[AXIS_6]
TYPE = LINEAR
MAX_VELOCITY = 14.0
MAX_ACCELERATION = 300.0
FERROR = 1000
#MIN_FERROR = 10
MIN_LIMIT = -1000000
MAX_LIMIT = 1000000

# Motor1 Parameter
[MOTOR1]
P = 40
I = 20
D = 2
FF0 = 0
FF1 = 20
FF2 = 0
MAX_OUTPUT = 255
# Constant for motor steps - the number of motor steps per mm^3 of plastic
#
# total_motor_steps / ((r^2*pi) * marked_length) = steps_per_mm_cube
#
# For my machine:
# r = 3.1/2 (Radius of the plastic filament)
# total_motor_steps = 1024 (I run it for one encoder cycle)
# marked_length = 30.3  (Length of the marked filament for one cycle)
INPUT_SCALE = 4.4775872

# Heater 1
[HEATER1]
P = 10
I = 0
D = 2
FF0 = 0.08
FF1 = 0
FF2 = 0
MAX_OUTPUT = 255

# Heater 2
[HEATER2]
P = 25
I = 0
D = 0
FF0 = 0.7
FF1 = 0
FF2 = 0
MAX_OUTPUT = 255

